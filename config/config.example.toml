[project]
name = "cascade"
version = "0.1.0"

[paths]
ingest_dir = "~/podcast_ingest"          # Watch folder / SD card mount point
output_dir = "~/cascade/episodes"        # Episode output (fast storage recommended)
work_dir = "~/cascade/work"              # Temporary processing files
backup_dir = "~/cascade/backup"          # External backup drive
public_media_dir = ""                    # Public URL base for Instagram uploads

[processing]
frame_seconds = 0.1                       # Audio analysis frame size
speech_db_margin = 6                      # dB above noise floor for speech
min_segment_seconds = 0.8                 # Minimum speaker segment duration
both_db_range = 6.0                       # If both channels active and within this dB range, classify as BOTH
max_channel_correlation = 0.95            # Above this = channels identical
max_channel_rms_ratio_delta = 3.0         # dB; below this = channels identical
clip_min_seconds = 30                     # Minimum clip duration
clip_max_seconds = 90                     # Maximum clip duration
clip_count = 10                           # Number of clips to generate
output_resolution = "1920x1080"           # Longform output resolution
shorts_resolution = "1080x1920"           # Shorts output resolution
video_crf = 22                            # CRF for longform
shorts_crf = 20                           # CRF for shorts
audio_bitrate = "192k"                    # Audio bitrate for longform
shorts_audio_bitrate = "128k"             # Audio bitrate for shorts
use_hardware_accel = true                 # Use VideoToolbox (macOS) or VAAPI (Linux)

[transcription]
provider = "deepgram"                     # Transcription provider
model = "nova-3"                          # Deepgram model
language = "en"                           # Language code
diarize = true                            # Enable speaker diarization
smart_format = true                       # Deepgram smart formatting
utterances = true                         # Group into utterances

[clip_mining]
method = "llm"                            # "baseline", "transcript", or "llm"
llm_model = "claude-opus-4-6"             # Model for clip ranking + metadata
llm_temperature = 0.3                     # LLM temperature
boundary_snap_tolerance_seconds = 3.0     # Max distance to snap to silence
metadata_model = "claude-sonnet-4-20250514"

[chat]
model = "claude-sonnet-4-20250514"

[schedule]
shorts_per_day_weekday = 1                # Mon-Thu
shorts_per_day_weekend = 2                # Fri-Sun
peak_days = ["friday", "saturday", "sunday"]
longform_delay_days = 0                   # Days after approval to publish longform
timezone = "America/Los_Angeles"

[automation]
sd_card_mount = "/Volumes/Untitled"       # SD card mount point (adjust for your setup)

[platforms.youtube]
enabled = true
require_approval = true
include_shorts_hashtag = true
link_to_longform = true                   # Include longform link in Shorts description

[platforms.tiktok]
enabled = true
require_approval = true
max_caption_chars = 2200
link_to_longform = true                   # "Full episode" link in bio/comment

[platforms.instagram]
enabled = true
require_approval = true
requires_public_url = true
link_to_longform = true                   # "Link in bio" CTA

[platforms.podcast_rss]
enabled = true
feed_url = ""
audio_format = "mp3"
audio_bitrate = "128k"
artwork_path = ""

[podcast]
title = "My Podcast"                      # Your podcast name
description = "A podcast about things"    # Short description
author = "Your Name"                      # Author / show name
channel_handle = "@yourhandle"            # YouTube channel handle
artwork_url = ""                          # Public URL to your podcast artwork (JPEG)
language = "en"
category = "Society & Culture"            # Apple Podcasts category
explicit = "false"
link = ""                                 # Main website or YouTube channel URL
owner_email = ""                          # Email for RSS feed (required by Apple Podcasts)

[podcast.links]
# Fill in the platforms you use â€” empty strings are skipped in the generated page
# Handles are auto-extracted from URLs and shown as link labels
display_name = ""                         # Override title on links page (optional)
tagline = ""                              # Shown below your podcast name
spotify = ""
youtube = ""
instagram = ""
x = ""
tiktok = ""
apple_podcasts = ""
iheartradio = ""
github = ""

[podcast.r2]
bucket = ""                               # Cloudflare R2 bucket name
public_url = ""                           # R2 public URL (e.g. https://pub-xxx.r2.dev)
